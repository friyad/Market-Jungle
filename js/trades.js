

const tradesData = [
    {
        id: 1,
        date: '2021-12-07',
        symble: 'APPS',
        volume: 250,
        executions: 2,
        pl: -66.33,
        shared: true,
        notes: 'These are some notes for this trade. S&P to the moon!',
        tags: 'S&P up 2%',
    },
    {
        id: 2,
        date: '2021-12-07',
        symble: 'APPS',
        volume: 250,
        executions: 2,
        pl: -66.33,
        shared: true,
        notes: 'These are some notes for this trade. S&P to the moon!',
        tags: 'S&P up 2%',
    },
    {
        id: 3,
        date: '2021-12-07',
        symble: 'APPS',
        volume: 250,
        executions: 2,
        pl: 766.33,
        shared: true,
        notes: 'These are some notes for this trade. S&P to the moon!',
        tags: 'S&P up 2%',
    },
    {
        id: 4,
        date: '2021-12-07',
        symble: 'APPS',
        volume: 250,
        executions: 2,
        pl: -66.33,
        shared: true,
        notes: 'These are some notes for this trade. S&P to the moon!',
        tags: 'S&P up 2%',
    },
    {
        id: 5,
        date: '2021-12-07',
        symble: 'APPS',
        volume: 250,
        executions: 2,
        pl: -66.33,
        shared: false,
        notes: 'These are some notes for this trade. S&P to the moon!',
        tags: 'S&P up 2%',
    },
    {
        id: 6,
        date: '2021-12-07',
        symble: 'APPS',
        volume: 250,
        executions: 2,
        pl: 756.33,
        shared: true,
        notes: 'These are some notes for this trade. S&P to the moon!',
        tags: 'S&P up 2%',
    },
    {
        id: 7,
        date: '2021-12-07',
        symble: 'APPS',
        volume: 250,
        executions: 2,
        pl: -66.33,
        shared: false,
        notes: 'These are some notes for this trade. S&P to the moon!',
        tags: 'S&P up 2%',
    },
    {
        id: 8,
        date: '2021-12-07',
        symble: 'APPS',
        volume: 250,
        executions: 2,
        pl: -66.33,
        shared: true,
        notes: 'These are some notes for this trade. S&P to the moon!',
        tags: 'S&P up 2%',
    },
    {
        id: 9,
        date: '2021-12-07',
        symble: 'APPS',
        volume: 250,
        executions: 2,
        pl: 666.33,
        shared: true,
        notes: 'These are some notes for this trade. S&P to the moon!',
        tags: 'S&P up 2%',
    },
    {
        id: 10,
        date: '2021-12-07',
        symble: 'APPS',
        volume: 250,
        executions: 2,
        pl: -66.33,
        shared: true,
        notes: 'These are some notes for this trade. S&P to the moon!',
        tags: 'S&P up 2%',
    },
]


const tradesDataContentBox = document.getElementById('tradesDataContentBox')

tradesData.map(data => {

    tradesDataContentBox.innerHTML += `
    <div class="grid grid-cols-12 justify-start items-center p-4 
    tradesDataContent mt-3 ">
        <h4 class="">${data.date}</h4>
        <h4 class="">${data.symble}</h4>
        <h4 class="">${data.volume}</h4>
        <h4 class="">${data.executions}</h4>
        <h4 style="color: ${data.pl < 0 ? "#B84D2B" : "#38712F"}" class="font-bold">${data.pl}</h4>
        <h4>
           ${data.shared === true ?
            `
            <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
                d="M14.399 14.0148V14.4702C14.399 15.3119 14.0876 16.1177 13.5224 16.7393C13.3442 16.9352 13.1003 17.034 12.8555 17.034C12.6395 17.034 12.4236 16.9567 12.2517 16.8004C11.8836 16.4672 11.8556 15.8994 12.1895 15.532C12.4541 15.2419 12.5999 14.8637 12.5999 14.4694V14.0138C12.5999 12.8963 11.8467 11.9289 10.7676 11.6621C10.6191 11.6244 10.4633 11.6441 10.3382 11.7151C8.66691 12.6314 6.62483 12.6269 4.96793 11.7196C4.83563 11.6442 4.67902 11.6244 4.53232 11.663C3.45322 11.9298 2.6999 12.8973 2.6999 14.0148V14.4702C2.6999 14.8637 2.8457 15.241 3.1103 15.5329C3.4442 15.9003 3.41633 16.4689 3.04823 16.8022C2.67833 17.1346 2.1104 17.1076 1.7765 16.7402C1.2113 16.1177 0.899902 15.3119 0.899902 14.4711V14.0157C0.899902 12.0709 2.21482 10.3865 4.09852 9.91938C4.68622 9.77565 5.32161 9.85839 5.84271 10.1494C6.95511 10.7603 8.33754 10.7648 9.46524 10.1449C9.97914 9.85928 10.6145 9.77475 11.2022 9.91938C13.0841 10.3856 14.399 12.07 14.399 14.0148ZM15.7004 9.9185C15.2189 9.80172 14.7293 10.0919 14.6105 10.5734C14.4917 11.0549 14.7852 11.5427 15.2676 11.6621C16.3467 11.9289 17.0999 12.8963 17.0999 14.0138V14.4694C17.0999 14.8628 16.9541 15.241 16.6895 15.532C16.3556 15.8994 16.3836 16.4672 16.7517 16.8004C16.9236 16.9567 17.1404 17.034 17.3555 17.034C17.6003 17.034 17.8442 16.9352 18.0224 16.7393C18.5876 16.1177 18.899 15.311 18.899 14.4702V14.0148C18.899 12.07 17.5841 10.3856 15.7004 9.9185ZM3.14903 5.35603C3.14903 2.8794 5.16773 0.864502 7.64903 0.864502C10.1303 0.864502 12.149 2.8794 12.149 5.35603C12.149 7.83266 10.1303 9.84755 7.64903 9.84755C5.16773 9.84755 3.14903 7.83266 3.14903 5.35603ZM4.94903 5.35603C4.94903 6.84183 6.16043 8.05094 7.64903 8.05094C9.13764 8.05094 10.349 6.84183 10.349 5.35603C10.349 3.87023 9.13764 2.66111 7.64903 2.66111C6.16043 2.66111 4.94903 3.87023 4.94903 5.35603ZM16.649 5.35603C16.649 3.0941 14.9562 1.17975 12.7107 0.899482C12.2166 0.842889 11.7674 1.18698 11.7062 1.67925C11.645 2.17152 11.9943 2.62064 12.4884 2.68173C13.8348 2.84971 14.8499 3.99869 14.8499 5.35603C14.8499 6.17798 14.4809 6.94517 13.8374 7.4599C13.4495 7.77071 13.3874 8.33566 13.6979 8.72193C13.8752 8.94381 14.1372 9.0588 14.4009 9.0588C14.598 9.0588 14.7969 8.99414 14.9634 8.8612C16.0344 8.00421 16.649 6.72594 16.649 5.35603Z"
                fill="#656565" />
            </svg>
        `  : ""}
        </h4>
        <h4 class="col-span-3">These are some notes for this trade. S&P to the moon!</h4>
        <h4 class="col-span-2">S&P up 2%</h4>
        <div class="flex justify-start items-center">
            <a class="mr-3" href="/tradesHidden.html">
                <svg width="23" height="23" viewBox="0 0 23 23" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M1 5.9287L5.88889 1.03981H16.8889C17.4321 0.904007 18.5185 1.03981 18.5185 2.66944V9.14815C17.7037 8.74074 16.4815 8.74074 16.4815 8.74074V3.07682H7.51852V5.9287C7.65432 6.4719 7.07064 7.5583 6.2963 7.5583H3.13708L3.03704 19.3731H11.1207C11.5281 19.9163 12.2444 21.0444 13.2222 21.3704C13.2222 21.3704 6.2963 21.546 2.62963 21.4102C2.30344 21.3981 1 21.0842 1 19.7805V5.9287Z"
                        fill="#656565" />
                    <path
                        d="M1 5.9287L5.88889 1.03981H16.8889C17.4321 0.904007 18.5185 1.03981 18.5185 2.66944M1 5.9287C1 10.0028 1 18.4768 1 19.7805M1 5.9287V19.7805M18.5185 2.66944C18.5185 4.29907 18.5185 7.79013 18.5185 9.14815M18.5185 2.66944V9.14815M18.5185 9.14815C17.7037 8.74074 16.4815 8.74074 16.4815 8.74074M16.4815 8.74074C16.4815 8.70095 16.4815 3.07682 16.4815 3.07682M16.4815 8.74074V3.07682M16.4815 3.07682C15.4229 3.07682 7.51852 3.07682 7.51852 3.07682M16.4815 3.07682H7.51852M7.51852 3.07682V5.9287C7.65432 6.4719 7.07064 7.5583 6.2963 7.5583M6.2963 7.5583C4.99259 7.5583 3.54449 7.5583 3.13708 7.5583M6.2963 7.5583H3.13708M3.13708 7.5583L3.03704 19.3731H11.1207C11.5281 19.9163 12.2444 21.0444 13.2222 21.3704C13.2222 21.3704 6.2963 21.546 2.62963 21.4102C2.30344 21.3981 1 21.0842 1 19.7805"
                        stroke="#656565" stroke-width="0.05" />
                    <path d="M9.96301 5.07397H14.8519V6.7036H9.96301V5.07397Z" fill="#656565" />
                    <path d="M4.25928 15.6667H9.96298V17.2964H4.25928V15.6667Z" fill="#656565" />
                    <path d="M4.25928 12.4075H9.96298V14.0371H4.25928V12.4075Z" fill="#656565" />
                    <path d="M4.25928 9.14819H14.0371L12.4074 10.7778H4.25928V9.14819Z"
                        fill="#656565" />
                    <path
                        d="M16.0741 8.33325C12.2552 8.33325 9.14819 11.4402 9.14819 15.2592C9.14819 19.0781 12.2552 22.1851 16.0741 22.1851C19.8931 22.1851 23 19.0781 23 15.2592C23 11.4402 19.8931 8.33325 16.0741 8.33325ZM16.0741 20.7999C13.0191 20.7999 10.5334 18.3142 10.5334 15.2592C10.5334 12.2042 13.0191 9.71844 16.0741 9.71844C19.1291 9.71844 21.6149 12.2042 21.6149 15.2592C21.6149 18.3142 19.1291 20.7999 16.0741 20.7999ZM16.7667 12.4888C16.7667 12.8711 16.4564 13.1814 16.0741 13.1814C15.6918 13.1814 15.3815 12.8711 15.3815 12.4888C15.3815 12.1065 15.6918 11.7962 16.0741 11.7962C16.4564 11.7962 16.7667 12.1065 16.7667 12.4888ZM16.7667 15.2592V18.0295C16.7667 18.4126 16.4564 18.7221 16.0741 18.7221C15.6918 18.7221 15.3815 18.4126 15.3815 18.0295V15.2592C15.3815 14.8762 15.6918 14.5666 16.0741 14.5666C16.4564 14.5666 16.7667 14.8762 16.7667 15.2592Z"
                        fill="#656565" />
                </svg>
            </a>
            <button>
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M19 3H15.441C15.01 3 14.629 2.72602 14.492 2.31702L14.176 1.36694C13.903 0.549943 13.14 0 12.279 0H7.71997C6.85797 0 6.095 0.550042 5.823 1.36804L5.50702 2.31604C5.37102 2.72504 4.98898 3 4.55798 3H1C0.448 3 0 3.447 0 4C0 4.553 0.448 5 1 5H2.065L2.81598 16.266C2.95498 18.36 4.70801 20 6.80701 20H13.194C15.293 20 17.046 18.359 17.185 16.266L17.936 5H19C19.552 5 20 4.553 20 4C20 3.447 19.552 3 19 3ZM7.72101 2L12.28 1.99902L12.596 2.94897C12.602 2.96697 12.611 2.982 12.618 3H7.38397C7.38997 2.982 7.40001 2.966 7.40601 2.948L7.72101 2ZM15.189 16.1331C15.119 17.1801 14.243 18 13.193 18H6.80603C5.75703 18 4.88 17.1801 4.81 16.1331L4.06897 5H4.55902C4.66602 5 4.77098 4.98598 4.87598 4.97498C4.91898 4.98098 4.95598 5 5.00098 5H15.001C15.045 5 15.083 4.97998 15.126 4.97498C15.231 4.98598 15.335 5 15.443 5H15.933L15.189 16.1331ZM13 9V14C13 14.553 12.552 15 12 15C11.448 15 11 14.553 11 14V9C11 8.447 11.448 8 12 8C12.552 8 13 8.447 13 9ZM9 9V14C9 14.553 8.552 15 8 15C7.448 15 7 14.553 7 14V9C7 8.447 7.448 8 8 8C8.552 8 9 8.447 9 9Z"
                        fill="#656565" />
                </svg>
            </button>
        </div>
    </div>
`

})



function tagSelect() {
    return {
        open: false,
        textInput: '',
        tags: [],
        init() {
            this.tags = JSON.parse(this.$el.parentNode.getAttribute('data-tags'));
        },
        addTag(tag) {
            tag = tag.trim()
            if (tag != "" && !this.hasTag(tag)) {
                this.tags.push(tag)
            }
            this.clearSearch()
            this.$refs.textInput.focus()
            this.fireTagsUpdateEvent()
        },
        fireTagsUpdateEvent() {
            this.$el.dispatchEvent(new CustomEvent('tags-update', {
                detail: { tags: this.tags },
                bubbles: true,
            }));
        },
        hasTag(tag) {
            var tag = this.tags.find(e => {
                return e.toLowerCase() === tag.toLowerCase()
            })
            return tag != undefined
        },
        removeTag(index) {
            this.tags.splice(index, 1)
            this.fireTagsUpdateEvent()
        },
        search(q) {
            if (q.includes(",")) {
                q.split(",").forEach(function (val) {
                    this.addTag(val)
                }, this)
            }
            this.toggleSearch()
        },
        clearSearch() {
            this.textInput = ''
            this.toggleSearch()
        },
        toggleSearch() {
            this.open = this.textInput != ''
        }
    }
}
